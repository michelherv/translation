<div class="row">
  <div class="d-none d-md-block col-md-2"></div>
  <div class="col-xs-12 col-md-8">
    <div class="row">
      <div class="col-auto">
        <a
          mat-fab
          color="primary"
          [routerLink]="[ '..', 'reading' ]"
        ><mat-icon>arrow_back</mat-icon></a>
      </div>

      <!-- titre de la page -->
      <div class="col-auto">
        <h1 class="mat-display-2 font-effect-shadow-multiple">
          Modification du projet
        </h1>
      </div>
    </div>


    <form (ngSubmit)="doSubmit(project)" novalidate>
      <mat-card>
        <!-- identifiant du projet -->
        <mat-card-subtitle class="text-right">{{ project.id }}</mat-card-subtitle>

        <mat-card-content>

          <!-- nom du projet -->
          <div class="row align-items-center">
            <div class="col-xs-12 col-sm-6 col-md-4">
              Nom
            </div>
            <div class="col-xs-12 col-sm-6 col-md-8">
              <mat-form-field [hintLabel]="input.maxLength + ' caractères maximum'">

                <input
                  name="name"
                  required
                  matInput
                  maxlength="20"
                  [(ngModel)]="project.name"
                  #input>
                <mat-hint align="end">{{ input.value?.length || 0 }} / {{ input.maxLength }}</mat-hint>

              </mat-form-field>
            </div>
          </div>


          <!-- date de création du projet -->
          <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-4">
              Date de création
            </div>
            <div class="col-xs-12 col-sm-6 col-md-8">
              {{ project.createdDate | date:'long' }}
            </div>
          </div>


          <!-- projet créé par -->
          <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-4">
              Créé par
            </div>
            <div class="col-xs-12 col-sm-6 col-md-8">
              {{ project.createdBy }}
            </div>
          </div>


          <!-- date de dernière maj du projet -->
          <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-4">
              Dernière mise à jour
            </div>
            <div class="col-xs-12 col-sm-6 col-md-8">
              {{ project.lastModifiedDate | date:'long' }}
            </div>
          </div>


          <!-- dernière maj du projet réalisée par -->
          <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-4">
              Dernière mise à jour
            </div>
            <div class="col-xs-12 col-sm-6 col-md-8">
              {{ project.lastModifiedBy }}
            </div>
          </div>
        </mat-card-content>


        <!-- actions sur le projet -->
        <mat-card-actions align="end">
          <a
            mat-button
            [routerLink]="[ '..', 'reading' ]"
          >ANNULER</a>
          <button
            type="submit"
            mat-raised-button
            color="primary"
            class="text-center"
          >
            <span *ngIf="!pending">SAUVEGARDER</span>
            <mat-spinner
              *ngIf="pending"
              diameter="20"
              color="accent"
            ></mat-spinner>
          </button>
        </mat-card-actions>
      </mat-card>
    </form>
  </div>
</div>
